<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/julia-ml-course/libs/katex/katex.min.css"> <link rel=stylesheet  href="/julia-ml-course/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/julia-ml-course/css/franklin.css"> <link rel=stylesheet  href="/julia-ml-course/css/poole_hyde.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/julia-ml-course/assets/favicon.png"> <title>Writing a Julia Package</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <h1><a href="/julia-ml-course/">JuML</a></h1> <p class=lead > Julia Programming<br> for Machine Learning<br> SoSe 2025 @ TU Berlin.</p> </div> <div class=sidebar-nav-section >Course overview</div> <a class="sidebar-nav-item " href="/julia-ml-course/">General Information</a> <a class="sidebar-nav-item " href="/julia-ml-course/E1_Installation/">Installation</a> <a class="sidebar-nav-item " href="/julia-ml-course/E2_Help/">Getting Help</a> <div class=sidebar-nav-section >Julia basics</div> <a class="sidebar-nav-item " href="/julia-ml-course/L1_Basics_1/">Types, Functions & MD</a> <a class="sidebar-nav-item " href="/julia-ml-course/L2_Basics_2/">Arrays & Linear Algebra</a> <a class="sidebar-nav-item " href="/julia-ml-course/L4_Basics_3/">Custom Types</a> <div class=sidebar-nav-section >Julia ecosystem</div> <a class="sidebar-nav-item " href="/julia-ml-course/L3_Plotting/">Plotting & DataFrames</a> <a class="sidebar-nav-item " href="/julia-ml-course/L5_Machine_Learning/">Machine Learning</a> <a class="sidebar-nav-item " href="/julia-ml-course/L6_Automatic_Differentiation/">Automatic Differentiation</a> <a class="sidebar-nav-item " href="/julia-ml-course/L7_Deep_Learning/">Deep Learning</a> <div class=sidebar-nav-section >Workflows</div> <a class="sidebar-nav-item " href="/julia-ml-course/overview/">Overview</a> <a class="sidebar-nav-item " href="/julia-ml-course/environments/">Environments</a> <a class="sidebar-nav-item " href="/julia-ml-course/repl/">Enhancing the REPL</a> <a class="sidebar-nav-item " href="/julia-ml-course/setup/">Setting up a Package</a> <a class="sidebar-nav-item active" href="/julia-ml-course/write/">Writing a Package</a> <a class="sidebar-nav-item " href="/julia-ml-course/test/">Testing</a> <a class="sidebar-nav-item " href="/julia-ml-course/git/">Hosting on GitHub</a> <a class="sidebar-nav-item " href="/julia-ml-course/docs/">Documentation</a> <a class="sidebar-nav-item " href="/julia-ml-course/debugging/">Debugging</a> <a class="sidebar-nav-item " href="/julia-ml-course/profiling/">Profiling</a> <a class="sidebar-nav-item " href="/julia-ml-course/scripts/">Scripts & Experiments</a> <a class="sidebar-nav-item " href="/julia-ml-course/common-mistakes/">Common Mistakes</a> <div class=sidebar-nav-section >Homework</div> <a class="sidebar-nav-item " href="/julia-ml-course/H1_Basics/">Week 1</a> <a class="sidebar-nav-item " href="/julia-ml-course/H2_Linear_Algebra/">Week 2</a> <a class="sidebar-nav-item " href="/julia-ml-course/H3_Custom_Types/">Week 3</a> <a class="sidebar-nav-item " href="/julia-ml-course/H4_Deep_Learning/">Week 4</a> </nav> <br> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=writing_a_julia_package ><a href="#writing_a_julia_package" class=header-anchor >Writing a Julia Package</a></h1> <p>In Julia, packages are the natural medium for code that doesn&#39;t fit in a simple script or notebook. While this might sound excessive at first, it provides many conveniences. This page serves as a guide for creating your first Julia package. </p> <div class="admonition warning"><p class=admonition-title >Warning</p><p>This page assumes you followed the <a href="/julia-ml-course/setup"><em>&quot;Setting up a Julia package&quot;</em></a> page.</p> </div> <p> <h2>Table of Contents</h2> <div class=franklin-toc ><ol><li><a href="#julia_vscode_extension">Julia VSCode extension</a><li><a href="#interactive_development">Interactive development</a><ol><li><a href="#starting_a_repl_session_with_vscode">Starting a REPL session with VSCode</a><li><a href="#starting_a_repl_without_vscode">Starting a REPL without VSCode</a></ol><li><a href="#package_environments">Package environments</a><ol><li><a href="#adding_package_dependencies">Adding package dependencies</a><li><a href="#semantic_versioning">Semantic Versioning</a></ol><li><a href="#the_source_folder">The source folder</a><ol><li><a href="#organizing_dependencies_source_files_and_exports">Organizing dependencies, source files and exports</a></ol><li><a href="#further_reading">Further reading</a></ol></div></p> <h2 id=julia_vscode_extension ><a href="#julia_vscode_extension" class=header-anchor >Julia VSCode extension</a></h2> <p>In combination with the <a href="https://www.julia-vscode.org/">Julia extension</a>, VSCode is the most commonly recommended editor for development in Julia. It provides several features and shortcuts that make package development convenient:</p> <ul> <li><p><a href="https://www.julia-vscode.org/docs/stable/userguide/keybindings/">keyboard shortcuts</a></p> <li><p><a href="/julia-ml-course/debugging">debugging</a> with breakpoints</p> <li><p>code completion</p> <li><p>code formatting</p> <li><p>run code &#40;or only sections of the code&#41;</p> <li><p>view <em>&quot;workspace&quot;</em> of global variables</p> <li><p>view documentation</p> <li><p>view plots</p> </ul> <p>This guide will assume that you are using VSCode with the Julia extension. Julia plugins for <a href="https://github.com/JuliaEditorSupport/julia-vim">Vim</a> and <a href="https://github.com/JuliaEditorSupport/julia-emacs">Emacs</a> exist as well but will not be covered.</p> <div class="admonition tip"><p class=admonition-title >Tip</p><p><a href="https://vscodium.com">VSCodium</a> is a free/libre fork of VSCode.</p> </div> <h2 id=interactive_development ><a href="#interactive_development" class=header-anchor >Interactive development</a></h2> <h3 id=starting_a_repl_session_with_vscode ><a href="#starting_a_repl_session_with_vscode" class=header-anchor >Starting a REPL session with VSCode</a></h3> <p>Julia developers usually have an interactive REPL session open while writing their source code. To be able to interact with the code that you are writing, you first have to activate the environment of your project.</p> <p>You could manually open a terminal, start a Julia REPL, activate Pkg mode and type <code>activate .</code>, but the Julia VSCode extension provides a keyboard shortcut for this&#33;</p> <p>Typing <code>Alt&#43;j Alt&#43;o</code> &#40;<code>option&#43;j option&#43;o</code> on macOS&#41; opens a Julia REPL and directly activates your local environment:</p> <pre><code class="julia-repl hljs"><span class="hljs-meta prompt_">julia&gt;</span><span class=language-julia > <span class=hljs-comment ># type ] to see which environment is active...</span>
</span>
<span class=hljs-metap>(MyPackage) pkg&gt;</span> # ... it&#x27;s your project environment!</code></pre> <p>If this doesn&#39;t work on the first try, you might have to manually select your <em>&quot;Julia env&quot;</em> in the bottom bar of VSCode once.</p> <h3 id=starting_a_repl_without_vscode ><a href="#starting_a_repl_without_vscode" class=header-anchor >Starting a REPL without VSCode</a></h3> <p>To start a REPL and activate your local environment, launch Julia with the flag <code>--project</code>. The Julia banner can be hidden via <code>--banner&#61;no</code>.</p> <pre><code class="bash hljs">$ <span class=hljs-built_in >cd</span> ~/.julia/dev/MyProject  <span class=hljs-comment ># make sure you&#x27;re in the right folder</span>

$ julia --project --banner=no</code></pre> <div class="admonition tip"><p class=admonition-title >Tip</p><p>If you are using an editor other than VSCode, set a shell alias for <code>julia --project --banner&#61;no</code>.</p> </div> <h2 id=package_environments ><a href="#package_environments" class=header-anchor >Package environments</a></h2> <div class="admonition tip"><p class=admonition-title >Tip</p><p>Make sure to read the <a href="/julia-ml-course/environments">page on environments</a> first&#33;</p> </div> <h3 id=adding_package_dependencies ><a href="#adding_package_dependencies" class=header-anchor >Adding package dependencies</a></h3> <p>Now that our package environment is activated, let&#39;s add a dependency to it, e.g. CSV.jl:</p> <pre><code class="julia-repl hljs"><span class=hljs-metap>(MyPackage) pkg&gt;</span> add CSV
   Resolving package versions...
    Updating `~/.julia/dev/MyTest1234/Project.toml`
  [336ed68f] + CSV v0.10.14
    Updating `~/.julia/dev/MyTest1234/Manifest.toml`
  [336ed68f] + CSV v0.10.14
  [944b1d66] + CodecZlib v0.7.4
  [34da2185] + Compat v4.15.0
  [9a962f9c] + DataAPI v1.16.0
  [e2d170a0] + DataValueInterfaces v1.0.0
  [48062228] + FilePathsBase v0.9.21
  [842dd82b] + InlineStrings v1.4.0
  [82899510] + IteratorInterfaceExtensions v1.0.0
  [bac558e1] + OrderedCollections v1.6.3
  [69de0a69] + Parsers v2.8.1
  ...</code></pre> <p>When adding a package, the <code>Project.toml</code> of our package will automatically be updated. It is always located in the root folder of the package &#40;in our example at <code>~/.julia/dev/MyPackage/Project.toml</code>&#41;. After adding CSV.jl, the <code>Project.toml</code> contains:</p> <pre><code class="toml hljs"><span class=hljs-attr >name</span> = <span class=hljs-string >&quot;MyPackage&quot;</span>
<span class=hljs-attr >uuid</span> = <span class=hljs-string >&quot;c97c58cb-c2b5-45a4-93b4-32bd8ab523c1&quot;</span>
<span class=hljs-attr >authors</span> = [<span class=hljs-string >&quot;Adrian Hill &lt;git@adrianhill.de&gt; and contributors&quot;</span>]
<span class=hljs-attr >version</span> = <span class=hljs-string >&quot;1.0.0-DEV&quot;</span>

<span class=hljs-section >[deps]</span>
<span class=hljs-attr >CSV</span> = <span class=hljs-string >&quot;336ed68f-0bac-5ca0-87d4-7b16caf5d00b&quot;</span>

<span class=hljs-section >[compat]</span>
<span class=hljs-attr >julia</span> = <span class=hljs-string >&quot;1.11&quot;</span></code></pre> <ul> <li><p>our package has a name, a unique identifier called a UUID, a version number and information about the package author</p> <li><p>adding CSV.jl created an entry in the dependency section <code>&#91;deps&#93;</code></p> <li><p>there is a new <code>&#91;compat&#93;</code> section to specify package compatibility bounds</p> <ul> <li><p>our package is compatible with Julia versions <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo></mrow><annotation encoding="application/x-tex">\ge</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7719em;vertical-align:-0.136em;"></span><span class=mrel >≥</span></span></span></span> <code>1.11</code> &#40;and smaller than <code>2.0</code>&#41; </p> <li><p>compat entries for external packages like CSV.jl have to be added manually</p> </ul> </ul> <div class="admonition tip"><p class=admonition-title >Tip</p><p>When looking at a new package, checking out its dependencies in the <code>Project.toml</code> is a good starting point.</p> </div> <h3 id=semantic_versioning ><a href="#semantic_versioning" class=header-anchor >Semantic Versioning</a></h3> <p>It is good practice &#40;and required for package registration&#41; to enter <code>&#91;compat&#93;</code> entries for all dependencies. This allows us to update dependencies without having to worry about our code breaking.</p> <p>By convention, Julia packages are expected to follow <a href="https://semver.org/lang/de/">Semantic Versioning</a> to specify version numbers:</p> <blockquote> <p>Given a version number MAJOR.MINOR.PATCH, increment the:</p> <ol> <li><p>MAJOR version when you make incompatible API changes</p> <li><p>MINOR version when you add functionality in a backward compatible manner</p> <li><p>PATCH version when you make backward compatible bug fixes</p> <li><p>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.</p> </ol> </blockquote> <blockquote> <p>Major version zero &#40;0.y.z&#41; is for initial development. Anything MAY change at any time. The public API SHOULD NOT be considered stable.</p> </blockquote> <p>Let&#39;s add a compat entry for CSV.jl. Using <code>status</code> in Pkg-mode, we can inspect the current version:</p> <pre><code class="julia-repl hljs"><span class=hljs-metap>(MyPackage) pkg&gt;</span> status
Project MyPackage v1.0.0-DEV
Status `~/.julia/dev/MyPackage/Project.toml`
  [336ed68f] CSV v0.10.14</code></pre> <p>Since CSV.jl is still in major version zero, a <code>0.11</code> release could contain breaking changes. Let&#39;s declare in the <code>Project.toml</code> that only versions <code>0.10.X</code> of CSV.jl are permitted. This will allow us to get updates that patch bugs, but not updates that are potentially breaking.</p> <pre><code class="toml hljs"><span class=hljs-section >[compat]</span>
<span class=hljs-attr >CSV</span> = <span class=hljs-string >&quot;0.10&quot;</span>  <span class=hljs-comment ># &lt;-- manually added to Project.toml</span>
<span class=hljs-attr >julia</span> = <span class=hljs-string >&quot;1.11&quot;</span></code></pre> <h2 id=the_source_folder ><a href="#the_source_folder" class=header-anchor >The source folder</a></h2> <p>By convention, the &quot;main&quot; file of your source code has the same name as the project, in our case <code>src/MyPackage.jl</code>. PkgTemplates already created this file for us, which defines an empty module of the same name: </p> <pre><code class="julia hljs"><span class=hljs-keyword >module</span> MyPackage

<span class=hljs-comment ># Write your package code here.</span>

<span class=hljs-keyword >end</span> <span class=hljs-comment ># end module</span></code></pre> <div class="admonition tip"><p class=admonition-title >Tip</p><p>When looking at the source code of a package, this file should be the first one you read.</p> </div> <p>Let&#39;s add a simple function <code>timestwo</code> to our package:</p> <pre><code class="julia hljs"><span class=hljs-comment ># New contents of src/MyPackage.jl</span>
<span class=hljs-keyword >module</span> MyPackage

timestwo(x) = <span class=hljs-number >2</span> * x

<span class=hljs-keyword >export</span> timestwo  <span class=hljs-comment ># only exported functions from a module are available without namespacing</span>

<span class=hljs-keyword >end</span> <span class=hljs-comment ># end module</span></code></pre> <p>In an open REPL, you can directly use all <strong>exported</strong> functions:</p> <pre><code class="julia-repl hljs"><span class="hljs-meta prompt_">julia&gt;</span><span class=language-julia > <span class=hljs-keyword >using</span> MyPackage
</span>
<span class="hljs-meta prompt_">julia&gt;</span><span class=language-julia > timestwo(<span class=hljs-number >3.0</span>)
</span>6.0</code></pre> <p>When we modify our source code, our REPL will automatically reload it, allowing us to develop our package interactively&#33; </p> <h3 id=organizing_dependencies_source_files_and_exports ><a href="#organizing_dependencies_source_files_and_exports" class=header-anchor >Organizing dependencies, source files and exports</a></h3> <p>Once your project grows, you will want to use functions from dependencies and organize your code by splitting it into smaller source files.</p> <p>It is recommended to explicitly import the functions you need from your dependencies. If you only need the <code>cholesky</code> function from LinearAlgebra.jl, don&#39;t just write <code>using LinearAlgebra</code> as it will import all functions exported by LinearAlgebra. Instead, specify <code>using LinearAlgebra: cholesky</code>.</p> <p>To add separate source files, call <code>include</code> with the relative path to a source file, e.g. <code>include&#40;&quot;timestwo.jl&quot;&#41;</code> for <code>src/timestwo.jl</code>:</p> <pre><code class="julia hljs"><span class=hljs-keyword >module</span> MyPackage

<span class=hljs-comment ># 1.) Explicitly import the functions you need from your dependencies</span>
<span class=hljs-keyword >using</span> LinearAlgebra: cholesky 

<span class=hljs-comment ># 2.) Include source files</span>
include(<span class=hljs-string >&quot;timestwo.jl&quot;</span>)
include(<span class=hljs-string >&quot;timesthree.jl&quot;</span>)

<span class=hljs-comment ># 3.) Export functions you defined</span>
<span class=hljs-keyword >export</span> timestwo, timesthree

<span class=hljs-keyword >end</span> <span class=hljs-comment ># end module</span></code></pre> <h2 id=further_reading ><a href="#further_reading" class=header-anchor >Further reading</a></h2> <ul> <li><p><a href="https://modernjuliaworkflows.github.io/writing/"><em>Modern Julia Workflows</em> on writing code</a></p> </ul> <div class=page-foot > Last modified: <a href="https://github.com/adrhill/julia-ml-course/commits/main">August 25, 2025.</a><br> Website, code and notebooks are under <a href="https://github.com/adrhill/julia-ml-course/blob/main/LICENSE">MIT License</a> &copy; <a href="http://adrianhill.de">Adrian Hill</a>.<br> Built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>, <a href="https://github.com/fonsp/Pluto.jl">Pluto.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> <script src="/julia-ml-course/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>